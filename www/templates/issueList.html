<ion-view view-title="Issues">

<ion-nav-buttons side="secondary">
<button type="button" ng-controller="LogoutCtrl" ng-click="logOut()" class="button">Déconnection</button>
</ion-nav-buttons>

<ion-content class="has-header" ng-controller="IssueListCrtl">

 

<div class="bar bar-header item-input-inset">
  <label class="item-input-wrapper">
    <i class="icon ion-ios7-search placeholder-icon"></i>
    <input type="search" placeholder="Search"  ng-model="searchText" ng-enter="search()">
  </label>
</div>


<div class="bar bar-header item-input-inset">
  ordoner par:
  <button type="button" ng-click="predicate = 'owner.name'; reverse=!reverse;" class="button">Nom d'auteur</button>

  <button type="button" ng-click="predicate = 'updatedOn'; reverse=!reverse;" class="button">date</button>


  <button type="button" ng-click="searchbydate()" class="button">Distance</button>
  <button type="button" ng-click="" class="button">Type</button>
</div>


<ion-list>
<ion-item class="item-avatar-left" ng-repeat="issue in issues | filter:searchText | orderBy:predicate:reverse" ng-click="openModal()"  ui-sref="tab.issueShow({id:issue.id})">
<img actual-src="{{issue.imageUrl}}" ng-src="img/default.jpg">
<h2>{{issue.description}}</h2>
<p><i  ng-class="{'solved': issue.state == 'solved'}">Etat: {{issue.state}} </i> - <i class="sbInfos">Mis à jour le:</i> {{issue.updatedOn|date:'dd/MM/yyyy à h:mm'}} - <i class="sbInfos">Créé par:</i> {{issue.owner.name}}</p>
</ion-item>
</ion-list>
<ion-infinite-scroll
ng-if="moreDataCanBeLoaded()"
icon="ion-loading-c"
on-infinite="loadMoreData() distance="1%"">
</ion-infinite-scroll>




</ion-content>
</ion-view>
