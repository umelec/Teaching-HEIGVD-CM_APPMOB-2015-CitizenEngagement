<ion-view view-title="New User">
  <ion-nav-buttons side="secondary">
    <button type="button" ng-controller="goLogin" ng-click="goLogin()" class="button">Retour</button>
  </ion-nav-buttons>
  <ion-content >
    <form name="newUserForm" ng-submit="createUser()" ng-controller="RegisterCtrl">
      <!-- Ionic uses lists to group related input elements. -->
      <div class="list">
        <label class="item">
          Please full the following fields in order to create your user
        </label>
        <label class="item item-input">
          <!-- Note the required="required" attribute used for validation. -->
          <input type="text" placeholder="Prénom" ng-model="user.firstname" required="required"/>
        </label>
        <label class="item item-input">
          <input type="text" placeholder="Nom" ng-model="user.lastname" required="required"/>
        </label>
        <label class="item item-input">
          <input type="tel" placeholder="Téléphone" ng-model="user.phone" required="required"/>
        </label>
        <label class="item item-input">
          <input type="password" placeholder="Mot de passe" ng-model="user.password" required="required"/>
        </label>
      </div>

      <!-- Display an error message here, above the submit button, if an error occurred. -->
      <p ng-if="error" class="error">{{ error }}</p>

      <!--
        The submit button.
        The "ng-click" directive indicates which scope function to call when the form is submitted.
        The "ng-disabled" directive is used to disable the button if the form is invalid (i.e. the first name or last name is missing).
      -->
      <button type="submit" class="button button-full button-positive" ng-disabled="loginForm.$invalid">S'enregistrer</button>
    </form>
  </ion-content>
</ion-view>
